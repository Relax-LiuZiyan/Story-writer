---
title: 网络技术常用函数
tags: MAC,IPV4
renderNumberedHeading: true
grammar_cjkRuby: true
---



# MAC地址打印

## 用户态打印

``` c
#define MAC_FMT "%02x:%02x:%02x:%02x:%02x:%02x"
#define MAC_ARG(x) ((uint8_t*)(x))[0],((uint8_t*)(x))[1],((uint8_t*)(x))[2],((uint8_t*)(x))[3],((uint8_t*)(x))[4],((uint8_t*)(x))[5]

//使用样例如下：
printf("src_mac:" MAC_FMT "\n", MAC_ARG(gLocalMac));
printf("dst_mac:" MAC_FMT "\n", MAC_ARG(arphdr->arp_data.arp_sha.addr_bytes));
printk(KERN_INFO "SOURCE:" MAC_FMT "\n", MAC_ARG(gLocalMac));
printk(KERN_INFO "DEST:" MAC_FMT "\n", MAC_ARG(arphdr->arp_data.arp_sha.addr_bytes));
```